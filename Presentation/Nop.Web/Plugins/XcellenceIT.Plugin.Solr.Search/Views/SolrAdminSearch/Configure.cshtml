@* *************************************************************************
 *                                                                       *
 * nopAccelerate - Solr Integration Extension for nopCommerce            *
 * Copyright (c) Xcellence-IT. All Rights Reserved.                      *
 *                                                                       *
 *************************************************************************
 *                                                                       *
 * Email: info@nopaccelerate.com                                         *
 * Website: http://www.nopaccelerate.com                                 *
 *                                                                       *
 *************************************************************************
 *                                                                       *
 * This  software is furnished  under a license  and  may  be  used  and *
 * modified  only in  accordance with the terms of such license and with *
 * the  inclusion of the above  copyright notice.  This software or  any *
 * other copies thereof may not be provided or  otherwise made available *
 * to any  other  person.   No title to and ownership of the software is *
 * hereby transferred.                                                   *
 *                                                                       *
 * You may not reverse  engineer, decompile, defeat  license  encryption *
 * mechanisms  or  disassemble this software product or software product *
 * license.  Xcellence-IT may terminate this license if you don't comply *
 * with  any  of  the  terms and conditions set forth in  our  end  user *
 * license agreement (EULA).  In such event,  licensee  agrees to return *
 * licensor  or destroy  all copies of software  upon termination of the *
 * license.                                                              *
 *                                                                       *
 * Please see the  License file for the full End User License Agreement. *
 * The  complete license agreement is also available on  our  website at * 
 * http://www.nopaccelerate.com/terms/                                   *
 *                                                                       *
 ************************************************************************* *@

 @{
    Layout = "~/Administration/Views/Shared/_AdminLayout.cshtml";
}
@using Nop.Web.Framework;
@using System.Web;
@model XcellenceIT.Plugin.Solr.Search.Models.SolrSearchModel
@Html.Action("StoreScopeConfiguration", "Setting", new { area = "Admin" })

<style>
    .pnlhint p
    {
        margin:0 0 10px 20px;
        color:#555;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {

        $("#@Html.FieldIdFor(model => model.EnableSolrSearch)").click(toggleEnableSolrSearch);
        $("#@Html.FieldIdFor(model => model.ShowAttributeFilter)").click(toggleShowAttributeFilter);
        $("#@Html.FieldIdFor(model => model.LowRelevancyForOutOfStock)").click(toggleShowRelevancy);
        $("#SearchOperator").change(toggleDisplayMMField);
        toggleEnableSolrSearch();
        toggleShowAttributeFilter();
        toggleShowRelevancy();
        toggleDisplayMMField();
    });

    function toggleShowAttributeFilter() {
        if ($('#@Html.FieldIdFor(model => model.ShowAttributeFilter)').is(':checked')) {
            $('#pnlproductattributefilter').show();
            $('#pnlspecificationattributefilter').show();
            $('#pnlspecificationattributefilterhint').show();
            $('#pnlproductattributefilterhint').show();
        }
        else {
            $('#pnlproductattributefilter').hide();
            $('#pnlspecificationattributefilter').hide();
            $('#pnlspecificationattributefilterhint').hide();
            $('#pnlproductattributefilterhint').hide();
        }
    }

    function toggleShowRelevancy() {
        if ($('#@Html.FieldIdFor(model => model.LowRelevancyForOutOfStock)').is(':checked')) {
            $('#pnlRelevancy').show();
        }
        else {
            $('#pnlRelevancy').hide();
        }
    }

    function toggleDisplayMMField() {
        var selectedAvailableSearchOperatorId = $("#SearchOperator").val();

        if (selectedAvailableSearchOperatorId == 3) {

            $('#pnlminimumshouldmatch').show();
            $('#pnlminimumshouldmatchhint').show();
        }
        else {

            $('#pnlminimumshouldmatch').hide();
            $('#pnlminimumshouldmatchhint').hide();
        }
    }
    function toggleEnableSolrSearch() {
        if ($('#@Html.FieldIdFor(model => model.EnableSolrSearch)').is(':checked')) {
            $('#pnlenablesearchindescriptions').show();
            $('#pnlsearchoperator').show();
            $('#pnlshowcategoryfilter').show();
            $('#pnlfilterwidgetzoneid').show();
            $('#pnlshowmanufacturerfilter').show();
            $('#pnlshowvendorfilter').show();
            $('#pnlshowratingfilter').show();
            $('#pnlshowtotalnumberofproducts').show();
            $('#pnlshowattributefilter').show();
            $('#pnlFiterDisplayMode').show();
            $('#pnlFilterDisplayModeForMobile').show();
            $('#pnlEnableMaxFilterOptionsForSearchBoxInFilters').show();
            $('#pnlfacetorderby').show();
            $('#pnldisplayproductvariant').show();
            $('#pnldisplaystockavailability').show();
            $('#pnlminimumshouldmatch').hide();
            $('#pnlEnableScrolling').show();
            $('#pnlEnableRemovableTagFilters').show();
            $('#pnlEnableCategoriesDropdown').show();
            $('#pnldisplaydiscountprice').show();
            $('#pnlnote').show();
            $('#pnlpopularnote').show();
            $('#pnlajaxcachingexpirationtime').show();
            $('#pnlproductattributefilter').show();
            $('#pnlspecificationattributefilter').show();
            $('#pnlpopularproductsortingoption').show();
            $('#pnlenablesearchpricerangefilter').show();
            $('#pnlNumberOfAutoCompleteTerm').show();

            $('#pnlsearchoperatorhint').show();
            $('#pnldisplaystockavailabilityhint').show();
            $('#pnldisplayproductvarianthint').show();
            $('#pnlenablesearchindescriptionshint').show();
            $('#pnlshowcategoryfilterhint').show();
            $('#pnlshowmanufacturerfilterhint').show();
            $('#pnlshowvendorfilterhint').show();
            $('#pnlshowratingfilterhint').show();
            $('#pnlfilterwidgetzoneidhint').show();
            $('#pnlshowtotalnumberofproductshint').show();
            $('#pnlshowattributefilterhint').show();
            $('#pnlFiterDisplayModehint').show();
            $('#pnlFilterDisplayModeForMobilehint').show();
            $('#pnlEnableMaxFilterOptionsForSearchBoxInFiltershint').show();
            $('#pnlfacetorderbyhint').show();
            $('#pnlminimumshouldmatchhint').hide();
            $('#pnlEnableScrollinghint').show();
            $('#pnlEnableRemovableTagFiltershint').show();
            $('#pnlEnableCategoriesDropdownhint').show();
            $('#pnldisplaydiscountpricehint').show();
            $('#pnlajaxcachingexpirationtimehint').show();
            $('#pnlspecificationattributefilterhint').show();
            $('#pnlproductattributefilterhint').show();
            $('#pnlpopularproductsortingoptionhint').show();
            $('#pnlenablesearchpricerangefilterhint').show();
            $('#pnlNumberOfAutoCompleteTermhint').show();
        }
        else {
            $('#pnlenablesearchindescriptions').hide();
            $('#pnlsearchoperator').hide();
            $('#pnlshowcategoryfilter').hide();
            $('#pnlshowmanufacturerfilter').hide();
            $('#pnlshowvendorfilter').hide();
            $('#pnlshowratingfilter').hide();
            $('#pnlfilterwidgetzoneid').hide();
            $('#pnlshowtotalnumberofproducts').hide();
            $('#pnlshowattributefilter').hide();
            $('#pnlFiterDisplayMode').hide();
            $('#pnlFilterDisplayModeForMobile').hide();
            $('#pnlEnableMaxFilterOptionsForSearchBoxInFilters').hide();
            $('#pnlfacetorderby').hide();
            $('#pnldisplayproductvariant').hide();
            $('#pnlStockAvailabilityItemsid').hide();
            $('#pnldisplaystockavailability').hide();
            $('#pnlminimumshouldmatch').hide();
            $('#pnlEnableScrolling').hide();
            $('#pnlEnableRemovableTagFilters').hide();
            $('#pnlEnableCategoriesDropdown').hide();
            $('#pnldisplaydiscountprice').hide();
            $('#pnlnote').hide();
            $('#pnlpopularnote').hide();
            $('#pnlajaxcachingexpirationtime').hide();
            $('#pnlspecificationattributefilter').hide();
            $('#pnlproductattributefilter').hide();
            $('#pnlpopularproductsortingoption').hide();
            $('#pnlenablesearchpricerangefilter').hide();
            $('#pnlNumberOfAutoCompleteTerm').hide();

            $('#pnlStockAvailabilityItemshint').hide();
            $('#pnlsearchoperatorhint').hide();
            $('#pnldisplaystockavailabilityhint').hide();
            $('#pnldisplayproductvarianthint').hide();
            $('#pnlshowcategoryfilterhint').hide();
            $('#pnlshowattributefilterhint').hide();
            $('#pnlFiterDisplayModehint').hide();
            $('#pnlFilterDisplayModeForMobilehint').hide();
            $('#pnlfilterwidgetzoneidhint').hide();
            $('#pnlenablesearchindescriptionshint').hide();
            $('#pnlshowmanufacturerfilterhint').hide();
            $('#pnlshowvendorfilterhint').hide();
            $('#pnlshowratingfilterhint').hide();
            $('#pnlshowtotalnumberofproductshint').hide();
            $('#pnlEnableMaxFilterOptionsForSearchBoxInFiltershint').hide();
            $('#pnlfacetorderbyhint').hide();
            $('#pnlminimumshouldmatchhint').hide();
            $('#pnlEnableScrollinghint').hide();
            $('#pnlEnableRemovableTagFiltershint').hide();
            $('#pnlEnableCategoriesDropdownhint').hide();
            $('#pnldisplaydiscountpricehint').hide();
            $('#pnlajaxcachingexpirationtimehint').hide();
            $('#pnlspecificationattributefilterhint').hide();
            $('#pnlproductattributefilterhint').hide();
            $('#pnlpopularproductsortingoptionhint').hide();
            $('#pnlenablesearchpricerangefilterhint').hide();
            $('#pnlNumberOfAutoCompleteTermhint').hide();
        }
    }
</script>  
<script type="text/javascript">
    $(document).ready(function () {

        $("#@Html.FieldIdFor(model => model.DisplayStockAvailability)").click(toggleEnableStockAvailabilityItems);

        toggleEnableStockAvailabilityItems();
    });

    function toggleEnableStockAvailabilityItems() {
        if ($('#@Html.FieldIdFor(model => model.EnableSolrSearch)').is(':checked')) {
            if ($('#@Html.FieldIdFor(model => model.DisplayStockAvailability)').is(':checked')) {
                $('#pnlStockAvailabilityItemsid').show();
                $('#pnlStockAvailabilityItemshint').show();
            }
            else {
                $('#pnlStockAvailabilityItemsid').hide();
                $('#pnlStockAvailabilityItemshint').hide();
            }
        }
        else {
            $('#pnlStockAvailabilityItemsid').hide();
            $('#pnlStockAvailabilityItemshint').hide();
        }
     }
</script>



@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="section-header">
        <div class="title">
            <img src="@Url.Content("~/Administration/Content/images/ico-configuration.png")" alt="" />
           nopAccelerate Solr Search
        </div>
        <div class="options">
            <button type="submit" name="configure" class="k-button" value="configure">
                    @T("Admin.Common.Save")
                </button>
        </div>
    </div>
    
  <div id="product-configure">
         <ul>
            <li @Html.RenderSelectedTabIndex(0, GetSelectedTabIndex())>
                @T("Plugins.XcellenceIT.Solr.Search.Fields.GeneralSettings")
            </li>
             <li @Html.RenderSelectedTabIndex(1, GetSelectedTabIndex())>
                 @T("Plugins.XcellenceIT.Solr.Search.Fields.SearchTermSettings")
            </li>
         </ul>
        <div>
            @GeneralSettings()
        </div>
        <div>
            @SearchTermSettings()
        </div>
            <script>
                $(document).ready(function () {
                    $("#product-configure").kendoTabStrip({
                        animation: {
                            open: {
                                effects: "fadeIn"
                            }
                        },
                        select: tabstrip_on_tab_select
                    });
                });
</script>
     </div>
}

 

    
@helper GeneralSettings()
{ 
    
    <table class="adminContent">
        <tr id="pnlenablesolrsearch">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnableSolrSearch_OverrideForStore, model => model.EnableSolrSearch, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnableSolrSearch):
            </td>
            <td class="adminData">
              @Html.EditorFor(model => model.EnableSolrSearch)
            </td>
        </tr>
        <tr class="pnlhint">
            <td class="adminData" colspan="2">
                <p>If checked all the search will be performed in Solr instead of SQL database.</p>
            </td>            
        </tr>
        <tr class="pnlhint">
            <td class="adminData" colspan="2">
                <b>(Note : Make sure to Restart Appliation after saving configurations.)</b>
            </td>
        </tr> 

        <tr id="pnlsearchoperator">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchOperator_OverrideForStore, model => model.SearchOperator, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchOperator):
            </td>
            <td class="adminData">
                @Html.DropDownList("SearchOperator", Model.AvailableSearchOperator)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlsearchoperatorhint">
            <td class="adminData" colspan="2">
                <p>If you select AND then result contains all the search terms & if you select OR then search result will contains any of the keywords.</p>
            </td>
        </tr>
        <tr id="pnlminimumshouldmatch">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.MMSearch_OverrideForStore, model => model.MMSearch, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.MMSearch):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.MMSearch, new { @class = "inputclass" })
                @*<input id="MMSearch" class="text-box single-line inputclass" type="text" value="75%" name="MMSearch">*@
            </td>
        </tr>
        <tr class="pnlhint" id="pnlminimumshouldmatchhint">
            <td class="adminData" colspan="2">
                <p>The search query uses Minimum Should Match instead of a default operator to determine how multiple search terms should be handled. A value of 1 means only one term from the query must match (same behavior as OR). A value of 100% mean all the terms must match (same behavior as AND). For Min Number Should Match Specification Format <a href="http://lucene.apache.org/solr/4_10_0/solr-core/org/apache/solr/util/doc-files/min-should-match.html">Click Here.</a></p>
            </td>

        </tr>

        <tr id="pnlenablesearchindescriptions">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnableSearchInDescriptions_OverrideForStore, model => model.EnableSearchInDescriptions, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnableSearchInDescriptions):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.EnableSearchInDescriptions)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlenablesearchindescriptionshint">
            <td class="adminData" colspan="2">
                <p>If checked, Solr will search into Product Description in addition to Product Name and Short Description.</p>
            </td>

        </tr>       
        <tr id="pnlenablesearchpricerangefilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnablePriceRangeFilter_OverrideForStore, model => model.EnablePriceRangeFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnablePriceRangeFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.EnablePriceRangeFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlenablesearchpricerangefilterhint">
            <td class="adminData" colspan="2">
                <p>If checked the price range filter will be displayed at the selected Widget Zone.</p>
            </td>

        </tr>
      
        <tr id="pnlshowcategoryfilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowCategoryFilter_OverrideForStore, model => model.ShowCategoryFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowCategoryFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowCategoryFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlshowcategoryfilterhint">
            <td class="adminData" colspan="2">
                <p>If checked the Category facet filter will be displayed on search results page at selected Widget Zone.</p>
            </td>
            
        </tr>

        <tr id="pnlshowmanufacturerfilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowManufacturerFilter_OverrideForStore, model => model.ShowManufacturerFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowManufacturerFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowManufacturerFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlshowmanufacturerfilterhint">
            <td class="adminData" colspan="2">
                <p>If checked the Manufacturer facet filter will be displayed on search results page at selected Widget Zone.</p>
            </td>
        </tr>

        <tr id="pnlshowvendorfilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowVendorFilter_OverrideForStore, model => model.ShowVendorFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowVendorFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowVendorFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlshowvendorfilterhint">
            <td class="adminData" colspan="2">
                <p>If checked the vendor filter will be displayed at the selected Widget Zone.</p>
            </td>
        </tr>

        <tr id="pnlshowattributefilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowAttributeFilter_OverrideForStore, model => model.ShowAttributeFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowAttributeFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowAttributeFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlshowattributefilterhint">
            <td class="adminData" colspan="2">
            <p>If checked the this will offer facet filters for Specification Attributes and Product Attributes on search result page.</p>
        </td>
        </tr>
        <tr id="pnlspecificationattributefilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SpecificationAttributeFilter_OverrideForStore, model => model.SpecificationAttributeFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SpecificationAttributeFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.SpecificationAttributeFilter)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlspecificationattributefilterhint">
            <td class="adminData" colspan="2">
                <p>Define Specification Attributes that will be offered for faceting search results. You can add multiple Specification Attributes by separating them with semi-column ";". For example, to offer search result filtering with CPU Type and Memory, enter <b>"CPU Type;Memory"</b> into the field provided. Please note that these value is case-sensitive.</p>
            </td>
        </tr>
        <tr id="pnlproductattributefilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ProductAttributeFilter_OverrideForStore, model => model.ProductAttributeFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ProductAttributeFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ProductAttributeFilter)
            </td>
        </tr>        
        <tr class="pnlhint" id="pnlproductattributefilterhint">
            <td class="adminData" colspan="2">
                <p>Define Product Attributes that will be offered for faceting search results. You can add multiple Product Attributes by separating them with semi-column ";". For example: to offer search result filtering with Software and HDD, enter <b>"Software;HDD"</b> into the field provided. Please note that these value is case-sensitive.</p>
            </td>
        </tr>

         <tr id="pnlshowratingfilter">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowRatingFilter_OverrideForStore, model => model.ShowRatingFilter, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowRatingFilter):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowRatingFilter)
            </td>
        </tr>
         <tr class="pnlhint" id="pnlshowratingfilterhint">
            <td class="adminData" colspan="2">
                <p>If checked the Rating filter will be displayed at the selected Widget Zone.</p>
            </td>
        </tr>
        <tr id="pnlpopularproductsortingoption">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.PopularProductSorting_OverrideForStore, model => model.PopularProductSorting, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.PopularProductSorting):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.PopularProductSorting)
            </td>
        </tr>
         <tr class="pnlhint" id="pnlpopularproductsortingoptionhint">
            <td class="adminData" colspan="2">
                <p>If checked then you can sort results as per product's popularity. </p>
            </td>
        </tr>
        <tr class="pnlhint" id="pnlpopularnote">
            <td class="adminData" colspan="2">
                <p><strong>Note : You can use this feature only if you are using Solr locally means Solr and NopCommerce web application both are on the same Server. If you are using remotely hosted Solr then please disable this setting. Moreover, UpdatePopularProducts schedule task should be enabled if you are using this feature. </strong></p>
            </td>
        </tr>
        <tr id="pnlajaxcachingexpirationtime">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.AjaxCachingExpirationTime_OverrideForStore, model => model.AjaxCachingExpirationTime, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.AjaxCachingExpirationTime):
            </td>
            <td class="adminData">            
                @Html.EditorFor(model => model.AjaxCachingExpirationTime)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlajaxcachingexpirationtimehint">
            <td class="adminData" colspan="2">
                <p>Please set Ajax Request Caching expiration time in milliseconds, so if another same request is made it will be served from browser cache instead of querying into Solr. After defined expiration time it will make Ajax call on application.</p>
            </td>
        </tr>

        <tr id="pnlFiterDisplayMode">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.FiterDisplayMode_OverrideForStore, model => model.FiterDisplayMode, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.FiterDisplayMode):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.FiterDisplayMode)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlFiterDisplayModehint">
            <td class="adminData" colspan="2">
                <p>If checked all filters will be shown in dropdown mode, defaults to open checkboxes mode.</p>
            </td>
        </tr>

        <tr id="pnlFilterDisplayModeForMobile">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.FilterDisplayModeForMobile_OverrideForStore, model => model.FilterDisplayModeForMobile, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.FilterDisplayModeForMobile):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.FilterDisplayModeForMobile)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlFilterDisplayModeForMobilehint">
            <td class="adminData" colspan="2">
                <p>If checked all filters will be shown in dropdown mode for mobile devices, defaults to open checkboxes mode.</p>
            </td>
        </tr>
        
        <tr id="pnldisplaydiscountprice">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.DisplayDiscountPrice_OverrideForStore, model => model.DisplayDiscountPrice, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.DisplayDiscountPrice):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.DisplayDiscountPrice)
            </td>
        </tr>
        <tr class="pnlhint" id="pnldisplaydiscountpricehint">
            <td class="adminData" colspan="2">
                <p>If checked and discount is applied, then it displays discounted price on Search Pages. Otherwise it will shows indexed price.</p>
            </td>
        </tr>
        <tr class="pnlhint" id="pnlnote">
            <td class="adminData" colspan="2">
                <p><strong>Note : As discounted price is calculated at runtime, it may cause some impact on performance.</strong></p>
            </td>
        </tr>
        <tr id="pnlfacetorderby">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.FacetOrderBy_OverrideForStore, model => model.FacetOrderBy, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.FacetOrderBy):
            </td>
            <td class="adminData">
                 @Html.DropDownList("FacetOrderBy", Model.AvailableFacetOrderBy)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlfacetorderbyhint">
            <td class="adminData" colspan="2">
                <p>Select facet field sort order which will define the display order of facet fields. You can sort it on facet count or alphabetically.</p>
            </td>
        </tr>
        <tr id="pnlfilterwidgetzoneid">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.FilterWidgetZoneId_OverrideForStore, model => model.FilterWidgetZoneId, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.FilterWidgetZoneId):
            </td>
            <td class="adminData">
                @Html.DropDownList("FilterWidgetZoneId", Model.AvailableWidgetZones)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlfilterwidgetzoneidhint">
            <td class="adminData" colspan="2">
                <p>Select the appropriate widget zone where you want to display Category/Manufacturers Facet Filters. It works best with "left_side_column_before", "left_side_column_after" and "left_side_column_after_category_navigation".</p>
            </td>
            
        </tr>
        <tr id="pnlEnableMaxFilterOptionsForSearchBoxInFilters">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.MaxFilterOptionsForSearchBoxInFilters_OverrideForStore, model => model.MaxFilterOptionsForSearchBoxInFilters, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.MaxFilterOptionsForSearchBoxInFilters):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.MaxFilterOptionsForSearchBoxInFilters)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlEnableMaxFilterOptionsForSearchBoxInFiltershint">
            <td class="adminData" colspan="2">
                <p>Offers Search box for searching available filter options if options are more than defined value. This also add scroll bar to the options box if options are more than defined value.</p>
            </td>
        </tr>
        <tr id="pnlshowtotalnumberofproducts">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.ShowTotalNumberOfProducts_OverrideForStore, model => model.ShowTotalNumberOfProducts, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.ShowTotalNumberOfProducts):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.ShowTotalNumberOfProducts)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlshowtotalnumberofproductshint">
            <td class="adminData" colspan="2">
                <p>If checked the count of products found will be displayed on Search Results page.</p>
            </td>
            
        </tr>
         <tr id="pnldisplayproductvariant">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.DisplayTotalNumberOfProductVariant_OverrideForStore, model => model.DisplayTotalNumberOfProductVariant, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.DisplayTotalNumberOfProductVariant):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.DisplayTotalNumberOfProductVariant)
            </td>
        </tr>
          <tr class="pnlhint" id="pnldisplayproductvarianthint">
            <td class="adminData" colspan="2">
                <p>If enabled, it will display a "more variant available" message on product box if you have group product with more than one associated simple products in a group product. For example, if you have four simple products associated in a group Product, it will display "3 more variant available". You can modify this message in resource string.</p>
            </td>
        </tr>
            <tr id="pnldisplaystockavailability">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.DisplayStockAvailability_OverrideForStore, model => model.DisplayStockAvailability, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.DisplayStockAvailability):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.DisplayStockAvailability)
            </td>
        </tr>
        <tr class="pnlhint" id="pnldisplaystockavailabilityhint">
            <td class="adminData" colspan="2">
                <p>If enabled, it will display a Stock Availability filter will be displayed at the selected Widget Zone.</p>
            </td>
        </tr>
         <tr id="pnlStockAvailabilityItemsid">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.IncludeExcludeStockAvailabilityId_OverrideForStore, model => model.IncludeExcludeStockAvailabilityId, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.IncludeExcludeStockAvailabilityId):
            </td>
            <td class="adminData">
                @Html.DropDownList("IncludeExcludeStockAvailabilityId", Model.StockAvailabilityItems)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlStockAvailabilityItemshint">
            <td class="adminData" colspan="2">
                <p>Select whether to include or exclude out-of-stock products in product list.
                   If you select Include Out-of-stock products, then out of stock products will be included in product listing 
                   (which is also a default behaviour for nopCommerce) and a filter to Exclude out-of-stock products will be offered. 
                   If you select Exclude Out-of-stock products, then by default out of stock products will be excluded in product listing and 
                   a filter to Include out-of-stock products will be offered.</p>
            </td>
        </tr>
        <tr id="pnlEnableScrolling">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnableInfiniteScrolling_OverrideForStore, model => model.EnableInfiniteScrolling, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnableInfiniteScrolling):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.EnableInfiniteScrolling)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlEnableScrollinghint">
            <td class="adminData" colspan="2">
                <p>Checked to enable infinite scrolling.</p>
            </td>
        </tr>
        <tr id="pnlEnableRemovableTagFilters">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnableRemovableTagFilters_OverrideForStore, model => model.EnableRemovableTagFilters, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnableRemovableTagFilters):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.EnableRemovableTagFilters)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlEnableRemovableTagFiltershint">
            <td class="adminData" colspan="2">
                <p>Checked to display selected filters in tag form which are removable. By removing any tag filter, It'll remove current selection that is specific to that tag from the filters.</p>
            </td>
        </tr>
        <tr id="pnlEnableCategoriesDropdown">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.EnableCategoriesDropdown_OverrideForStore, model => model.EnableCategoriesDropdown, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.EnableCategoriesDropdown):
            </td>
            <td class="adminData">
                @Html.EditorFor(model => model.EnableCategoriesDropdown)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlEnableCategoriesDropdownhint">
            <td class="adminData" colspan="2">
                <p>Checked enable disble category dropdown on header</p>
            </td>
        </tr>

        <tr id="pnlNumberOfAutoCompleteTerm">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.NumberOfAutoCompleteTerm_OverrideForStore, model => model.NumberOfAutoCompleteTerm, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.NumberOfAutoCompleteTerm):
            </td>
            <td class="adminData">
                @Html.DropDownList("NumberOfAutoCompleteTerm", Model.AvailableNumberOfAutoCompleteTerm)
            </td>
        </tr>
        <tr class="pnlhint" id="pnlNumberOfAutoCompleteTermhint">
            <td class="adminData" colspan="2">
                <p> As per selected ratio, autocomplete result will be available for term and product suggestion. Ratio will calculated as per 'Number of autocomplete products to display' catalog settings. So if you have set 10 products to display for autocomplete and 50% ratio then it will display 5 term suggestion and 5 product suggestion.</p>
            </td>
        </tr>
    </table>
}
@helper SearchTermSettings()
{
    <table class="adminContent">
        <tr>
            <td class="adminData" colspan="2">
                <p>You can define the custom search term boost (also known as weight) for certain field higher than other fields to determine the correct order of search results. This boost is used by Apache Solr to determine score and relative ranking of the results for a given term.</p>
                <p>Select a Boost value from a scale of 1 to 10, 10 being the highest boost given to a field.</p>
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnName_OverrideForStore, model => model.SearchWeightOnName, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnName):
            </td>
            <td class="adminData">
                 @Html.DropDownList("SearchWeightOnName", Model.AvailableSearchWeights)                
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnShortDesc_OverrideForStore, model => model.SearchWeightOnShortDesc, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnShortDesc):
            </td>
             <td class="adminData">
                 @Html.DropDownList("SearchWeightOnShortDesc", Model.AvailableSearchWeights)                
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnFullDesc_OverrideForStore, model => model.SearchWeightOnFullDesc, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnFullDesc):
            </td>
             <td class="adminData">
                 @Html.DropDownList("SearchWeightOnFullDesc", Model.AvailableSearchWeights)                
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnCategoryName_OverrideForStore, model => model.SearchWeightOnCategoryName, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnCategoryName):
            </td>
             <td class="adminData">
                 @Html.DropDownList("SearchWeightOnCategoryName", Model.AvailableSearchWeights)                
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnManufacturerName_OverrideForStore, model => model.SearchWeightOnManufacturerName, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnManufacturerName):
            </td>
             <td class="adminData">
                 @Html.DropDownList("SearchWeightOnManufacturerName", Model.AvailableSearchWeights)                
            </td>
        </tr>
        <tr>
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnSku_OverrideForStore, model => model.SearchWeightOnSku, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnSku):
            </td>
             <td class="adminData">
                 @Html.DropDownList("SearchWeightOnSku", Model.AvailableSearchWeights)                
            </td>
        </tr>
            <tr id="pnlLowRelevancyForOutOfStock">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.LowRelevancyForOutOfStock_OverrideForStore, model => model.LowRelevancyForOutOfStock, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.LowRelevancyForOutOfStock):
            </td>
            <td class="adminData">
              @Html.EditorFor(model => model.LowRelevancyForOutOfStock)
            </td>
        </tr>
        <tr class="pnlhint" id="LowRelevancyForOutOfStockhint">
            <td class="adminData" colspan="2">
                <p>If checked, In-Stock products will be ranked higher in Search result.</p>
            </td>         
        </tr>
        <tr id="pnlRelevancy">
            <td class="adminTitle">
                @Html.OverrideStoreCheckboxFor(model => model.SearchWeightOnRelevancy_OverrideForStore, model => model.SearchWeightOnRelevancy, Model.ActiveStoreScopeConfiguration)
                @Html.NopLabelFor(model => model.SearchWeightOnRelevancy):
            </td>
            <td class="adminData">
                @Html.DropDownList("SearchWeightOnRelevancy", Model.AvailableSearchWeights)
            </td>
        </tr>
    </table>

            
}
    <div style="float: right; margin-bottom: 20px;">
        Powered By: <a href="@Model.CompanyURL" target="_blank" style="display: inline-block; vertical-align: middle;">
            <img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAAAZCAIAAAAqv/IzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYyNTM2ODYzNzlCRjExRTJBQkIwODA4RkE0QjEzQzRGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYyNTM2ODY0NzlCRjExRTJBQkIwODA4RkE0QjEzQzRGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjI1MzY4NjE3OUJGMTFFMkFCQjA4MDhGQTRCMTNDNEYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjI1MzY4NjI3OUJGMTFFMkFCQjA4MDhGQTRCMTNDNEYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz78kX//AAAFyklEQVR42uyaMUxkZRDHD4NyBjzgiiUW1yyWQuElJlynQqIVFBpNIEqjmEBFIdGEikSDJlSQC2hBAcmZWEB1BWvsjsQEC9DmIktxFXuJCLJ6eKf44w0Ow7wHfPfiZVd4kw3Z/Zj5dr75z39mvgc1+/v7lzK5ePJUFoIM+EwukNRWp1urq6tjY2N2paOjY3h4uOKO9ff3l8tleV9fXz81NcXPjPH/mSwuLrqVzc3NintVLBYVdaSlpeV/inqVAg/GMN4t2ohX0DH7sb29vbL+LC8vvxXJwsLCeQBejuHIVCWMtx/z+XxlUZ+YmEidglUHPMzmSLzp6+urtmrv6lClgMeNiUh01EjhybHh7mHph9LXLx9mRF3z8x/cf7Rd/P2nr35b+VxWml69+ewLb6r+3r1v/yyt7Nz5xG5y5can6NQ25k/aE6s/fv6m/OOXsnL1jVt1115T86WlJbAnheOHcdWePCBFKA92nRmws7PTMuCx1AqFgk0vdNBUNct4wk2PD7TFcGRkRA1nZ2dZmZ+fl0xCZ3R0VA7I8dfW1myGEQf26enpiU+XGhaqvQ6/IQfxwD/aOTrY33tbICqQ68ovt9/Jvf3907mX+Oh+W//i+4Il67xUjcxwO4C6W2l57y4ZICt4zM/u7u743MRJNBuImm1sHEwMlyMZHx8XzXRqxEiqTiESUCFkrs5rEENsLQZS0pSv2tTcRaa3t5edJWlEwJV9yADey1eoJ21tbeEHSSj1sNN+BLOWd+9aOiqQDnVY2/TKTUFaZPvOx/Lmr50Nl1uUBK0Hgj01QFHnbDAJ/xoaGk4q9e54xGhgYABQ7bydWm04EqsmuZJY5wNtXdJY1HUrqzM5OQnAOGw7Ogo4zLpWGkWXRSIW6EwC4y07kcYbn4GQcvEwUy43U/8t6uBt6792AXnz4F7Brl99/RZ7kg1scoT9gy2t88LL+HBn4bfHk1i4OGKbTo3wEUfXVuS9A48NU9uCB98+NDRk849EV6RlxQHMJpIibtbRxUBnknv8EcB1zcJgW/8RCoCUdJXL1w5zan/v12Pk3i4eYLy9YfcUrivSmkxCKc4GGF1dXTa4jvG2ykm+61FtvNKp6Z3CQpUYbvaRNA2xXV9fjzujpxMdS83EYVaZYGuPTnbhB/HAgzpV1/JY6rDLBl6uI2iFtyQ+2Lox7/bUrvHw/rEdaq/ktRCRlcwviVwvlUqn3KkU2tOvXqerrUbivpcOilcugkQ80NY99lFPBHgdEjk+4MV3cI0JE/cQ6bEOkgC8Y/YzuesHHXp7w9FdsiEOW2I2uDp/SPe9LZsiUlpkFj39BrK7uxuf7SWOMg8rF1lMp6bjXvzSnLhbClsdr2SS166vamApvYCLgMKpzD5pxgx0JpnxZyIni+SEtnCkpq4prild3xV/MXedQpJJ6O4eyE9PT9t5REpfLpeL84DslhlYY5FOTcopwVW60Hopwq7qym6BtvHhIP5cyCYHnV4y0hoqwCfV/0BnEoB3k53w2M3kQlk7vQu6kJjrvlXjdhfPBkZCuL678sUxF7kH/ktE1+dcjMqRkBwuGziSnWsk0wPVCKhV04TToMvAlcizdLZxIjoshbtzc3OJoUisZOHOnMF4nexcNgg7YTMvvY5vffch2Gv1BnVGd7kLuD1JJve0h33Y83b0dEVucWdWe3SYzxXCmZkZRicNhw1EiJo8ydGQUXLRsUiIS4nzVKCtnewSn7Khxrr6Nh2JU9OP7rLDl/ZEEuiMBz5ksrNXOy7uVGywp+arDihi+Nz1jxJ7BwBjBelhvHwXF3qU8U/cddctqU5xcpAfUgwBA0OFhIi4O26gGpf71tZWFOSurAwjjvlI4n+US22LcjybcYkGRw+SHToiAafBwcF4puI8i5rQtiOc6Yz90pon969XYGz5DcYgfSmT6pAn+EeaxMkuk/MPvJvs3KPfTM4n8IlPfrJwV4/UZP9enTE+kwsk/wgwAKm2AMXI9591AAAAAElFTkSuQmCC" /></a>
    </div> 
